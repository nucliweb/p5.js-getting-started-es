<section data-type="chapter" id="draw">
<h1 class="chapterhead">Dibujar</h1>

<p class="lede">Al principio, <a contenteditable="false" data-primary="drawing" data-type="indexterm" id="d3">&nbsp;</a>dibujar en una pantalla de computador es como trabajar en papel cuadriculado. Parte como un procedimiento t&#xE9;cnico cuidadoso, pero a medida que se introducen nuevos conceptos, el dibujo de formas simples con software se transforma en un trabajo de animaci&#xF3;n e interacci&#xF3;n. Antes de que hagamos este salto, tenemos que empezar por el principio.</p>

<p>Una pantalla de computador es una matriz de elementos de luz llamados <a contenteditable="false" data-primary="pixels" data-type="indexterm">&nbsp;</a><em>pixeles</em>. Cada pixel tiene una posici&#xF3;n dentro de la matriz definida por sus coordenadas. Cuando creas un bosquejo en p5.js, lo puedes visualizar con un navegador. Dentro de la ventana del navegador, p5.js crea un<a contenteditable="false" data-primary="drawing" data-secondary="canvas" data-type="indexterm" id="d3cx">&nbsp;</a><a contenteditable="false" data-primary="canvas" data-type="indexterm" id="c3">&nbsp;</a><em>lienzo para dibujar</em>, un &#xE1;rea en la que se dibujan las gr&#xE1;ficas. El lienzo puede ser del mismo tama&#xF1;o que la ventana, o puede tener dimensiones distintas. El lienzo est&#xE1; usualmente ubicado en la esquina superior izquierda de tu ventana, pero lo puedes posicionar en otros lugares.</p>

<p>Cuando dibujas en el lienzo, la coordenada <em>x</em> es la distancia desde el borde izquierdo del lienzo y la coordenada <em>y</em> es la distancia desde el borde superior. Escribimos las coordenadas de un pixel as&#xED;: <a contenteditable="false" data-primary="x and y coordinates" data-type="indexterm">&nbsp;</a>(x, y). As&#xED; que, si el lienzo es de 200×200 pixeles, la esquina superior izquierda es (0, 0), el centro est&#xE1; en (100, 100) y la esquina inferior derecha es (199, 199). Estos n&#xFA;meros pueden ser confusos; &#xBF;por qu&#xE9; contamos de 0 a 199 en vez de 1 a 200? La respuesta es que en programaci&#xF3;n, usualmente contamos partiendo en 0 porque as&#xED; es m&#xE1;s f&#xE1;cil hacer c&#xE1;lculos que veremos m&#xE1;s adelante.</p>

<section class="pagebreak-before" data-type="sect1">
<h1>El lienzo</h1>

<p>El lienzo es creado y las im&#xE1;genes son dibujadas dentro de &#xE9;l a trav&#xE9;s de elementos de c&#xF3;digo llamados <em>funciones</em>.<a contenteditable="false" data-primary="functions" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="parameters" data-type="indexterm">&nbsp;</a>Las funciones son el bloque fundamental de un programa en p5.js. El comportamiento de una funci&#xF3;n est&#xE1; definido por sus <em> par&#xE1;metros</em>. Por ejemplo, casi todos los programas en p5.js tienen una funci&#xF3;n <code>createCanvas()</code> <a contenteditable="false" data-primary="createCanvas() function" data-type="indexterm">&nbsp;</a>que crea un lienzo para dibujar con un ancho y una altura espec&#xED;ficos. Si tu programa no tiene una funci&#xF3;n <code>createCanvas()</code>, el lienzo creado por defecto es de 100×100 pixeles.</p>

<section data-type="sect2">
<h2>Example 3-1: crea un lienzo</h2>

<p>La funci&#xF3;n <code>createCanvas()</code> tiene dos par&#xE1;metros;&nbsp;el primero define el ancho del lienzo para dibujar, el segundo define la altura. Para dibujar un lienzo que sea de 800 pixeles de ancho y 600 pixeles de altura, escribe:</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(800, 600);
}</pre>

<p>Ejecuta este c&#xF3;digo para observar el resultado. Prueba con valores distintos para explorar las posibilidades. Prueba con n&#xFA;meros muy peque&#xF1;os y con n&#xFA;meros m&#xE1;s grandes que las dimensiones de tu pantalla.</p>
</section>

<section class="pagebreak-before" data-type="sect2">
<h2>Ejemplo 3-2: dibuja un punto</h2>

<p>Para definir<a contenteditable="false" data-primary="drawing" data-secondary="points" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="point() function" data-type="indexterm">&nbsp;</a>el color de un solo pixel dentro del lienzo, usamos la funci&#xF3;n <code>point()</code>. Posee dos par&#xE1;metros que definen la posici&#xF3;n: la coordenada <em>x</em> seguida de la coordenada <em>y</em>. Para crear un peque&#xF1;o lienzo y un punto en el centro de &#xE9;l, la coordenada (240, 60), escribe:</p>

<figure><img alt="Ex 03 02" src="images/gspj_03in02.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  point(240, 60);
}</pre>

<p>Trata de escribir un programa que pone un punto en cada esquina del lienzo para dibujar y uno en el centro. Luego trata de poner puntos consecutivos de manera vertical, horizontal y en diagonales, para formar<a contenteditable="false" data-primary="canvas" data-startref="c3" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="canvas" data-startref="d3cx" data-type="indexterm">&nbsp;</a>l&#xED;neas.</p>
</section>
</section>

<section data-type="sect1">
<h1>Figuras b&#xE1;sicas</h1>

<p>p5.js incluye un grupo de funciones para dibujar figuras b&#xE1;sicas (ver <a data-type="xref" href="#Fig_03_01">Figura 3-1</a>). Figuras simples<a contenteditable="false" data-primary="shapes" data-secondary="drawing basic" data-type="indexterm" id="s3db">&nbsp;</a><a contenteditable="false" data-primary="basic shapes" data-type="indexterm" id="bs3">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="lines" data-type="indexterm" id="d3lines">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-tertiary="basic" data-type="indexterm" id="d3sb">&nbsp;</a>como l&#xED;neas pueden ser combinadas para crear figuras m&#xE1;s complicadas como una hoja o una cara.</p>

<p>Para dibujar una sola&nbsp;<a contenteditable="false" data-primary="lines" data-secondary="drawing" data-type="indexterm" id="ld3">&nbsp;</a>l&#xED;nea, necesitamos cuatro par&#xE1;metros: dos para el punto inicial y dos para el final.</p>

<figure id="Fig_03_01"><img alt="Fig 03 01" src="images/gspj_0301.png" />
<figcaption><b>Figura 3-1. </b>Figuras y sus coordenadas</figcaption>
</figure>

<section class="pagebreak-before" data-type="sect2">
<h2>Ejemplo 3-3: dibuja una l&#xED;nea</h2>

<p>Para dibujar una l&#xED;nea entre la coordenada (20, 50) y (420, 110), prueba:</p>

<figure><img alt="Ex 03 03" src="images/gspj_03in03.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  line(20, 50, 420, 110);
}</pre>
<a contenteditable="false" data-primary="lines" data-secondary="drawing" data-startref="ld3" data-type="indexterm">&nbsp;</a>&nbsp;<a contenteditable="false" data-primary="drawing" data-secondary="lines" data-startref="d3lines" data-type="indexterm">&nbsp;</a></section>

<section data-type="sect2">
<h2>Ejemplo 3-4: dibuja figuras b&#xE1;sicas</h2>

<p>Siguiendo este patr&#xF3;n, un tri&#xE1;ngulo necesita seis par&#xE1;metros y un cuadril&#xE1;tero necesita ocho (un par para cada punto):</p>

<figure><img alt="Ex 03 04" src="images/gspj_03in04.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  quad(158, 55, 199, 14, 392, 66, 351, 107);
  triangle(347, 54, 392, 9, 392, 66);
  triangle(158, 55, 290, 91, 290, 112);
}</pre>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-5:dibuja un rect&#xE1;ngulo</h2>

<p>Tanto los <em>rect&#xE1;ngulos</em> <a contenteditable="false" data-primary="rectangles" data-secondary="drawing" data-type="indexterm">&nbsp;</a>como las <em>elipses</em><a contenteditable="false" data-primary="drawing" data-secondary="rectangles" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="rectangles" data-type="indexterm">&nbsp;</a>son definidos por cuatro par&#xE1;metros: el primero y el segundo son las coordenadas <em>x</em> e <em>y</em> del punto ancla, el tercero es el ancho y el cuarto es la altura. Para dibujar un rect&#xE1;ngulo en la coordenada (180, 60) con un ancho de 220 pixeles y una altura de 40 pixeles, usa la funci&#xF3;n <code>rect()</code> <a contenteditable="false" data-primary="rect() function" data-type="indexterm">&nbsp;</a>as&#xED;:</p>

<figure><img alt="Ex 03 05" src="images/gspj_03in05.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  rect(180, 60, 220, 40);
}
</pre>
&nbsp;<a contenteditable="false" data-primary="drawing" data-secondary="rectangles" data-startref="d3r" data-type="indexterm">&nbsp;</a></section>

<section data-type="sect2">
<h2>Ejemplo 3-6: dibuja una elipse</h2>

<p>Las coordenadas <em>x</em> e <em>y</em><a contenteditable="false" data-primary="drawing" data-secondary="ellipses" data-type="indexterm" id="d3ell">&nbsp;</a><a contenteditable="false" data-primary="ellipses" data-type="indexterm" id="ell3">&nbsp;</a> de un rect&#xE1;ngulo corresponden a la esquina superior izquierda, pero para una elipse son el centro de la figura. En este ejemplo, observa que la coordenada <em>y</em> de la primera elipse est&#xE1; fuera del lienzo. Los objetos pueden ser dibujados parcialmente (o enteramente) fuera del lienzo sin arrojar errores:</p>

<figure><img alt="Ex 03 06" src="images/gspj_03in06.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  ellipse(278, -100, 400, 400);
  ellipse(120, 100, 110, 110);
  ellipse(412, 60, 18, 18);
}
</pre>

<p>p5.js no posee funciones separadas para dibujar cuadrados y c&#xED;rculos. Para hacer estas figuras, usa el mismo valor para los par&#xE1;metros de <em>ancho</em> y <em>altura</em> en las funciones&nbsp;<code>ellipse()</code> y <code>rect()</code>.</p>
</section>

<section data-type="sect2" id="ex-3-7">
<h2>Ejemplo 3-7: dibuja una parte de una elipse</h2>

<p>La funci&#xF3;n <code>arc()</code> <a contenteditable="false" data-primary="arc() function" data-type="indexterm"></a>dibuja una parte de una elipse:</p>

<figure><img alt="Ex 03 07" src="images/gspj_03in07.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting" class="pagebreak-before">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  arc(90, 60, 80, 80, 0, HALF_PI);
  arc(190, 60, 80, 80, 0, PI+HALF_PI);
  arc(290, 60, 80, 80, PI, TWO_PI+HALF_PI);
  arc(390, 60, 80, 80, QUARTER_PI, PI+QUARTER_PI);
}</pre>

<p>El primer y el segundo par&#xE1;metro definen la ubicaci&#xF3;n, mientras que el tercero y el cuarto definen el ancho y la altura. El quinto par&#xE1;metro define el &#xE1;ngulo inicial del arco y el sexto el &#xE1;ngulo final. Los &#xE1;ngulos est&#xE1;n definidos en radianes, en vez de grados. Los <em>radianes</em> son medidas de &#xE1;ngulo basadas en el valor de pi (3.14159). La <a data-type="xref" href="#Fig_03_02">Figura 3-2</a> muestra c&#xF3;mo ambos est&#xE1;n relacionados. Como se ve en este ejemplo, cuatro valores de radianes son usados tan frecuentemente que fueron agregados con nombres especiales como parte de p5.js. Los valores <code>PI</code>, <code>QUARTER_PI</code>, <code>HALF_PI</code> y <code>TWO_PI</code> (por PI, un cuarto de PI, un medio de PI, y dos PI) pueden ser usados para reemplazar los valores en radianes de 180°, 45°, 90°, y 360°.</p>

<figure id="Fig_03_02"><img alt="Fig 03 02" src="images/gspj_0302.png" />
<figcaption><b>Figura 3-2. </b>Radianes y grados son dos formas distintas de medir un &#xE1;ngulo. Los grados en una circunferencia van entre 0 y 360, mientas que los radianes est&#xE1;n relacionados con pi, y van desde 0 a aproximadamente 6.28.</figcaption>
</figure>
</section>

<section data-type="sect2" id="ex-3-8">
<h2>Ejemplo 3-8: dibuja con grados</h2>

<p>Si<a contenteditable="false" data-primary="drawing" data-secondary="ellipses" data-startref="d3ell" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="ellipses" data-startref="d3ell" data-type="indexterm">&nbsp;</a>prefieres usar<a contenteditable="false" data-primary="degree measurements" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="radians() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="with degrees" data-secondary-sortas="degrees" data-type="indexterm">&nbsp;</a>medidas en grados, puedes convertir a radianes con la funci&#xf3;n <code>radians()</code>. Esta funci&#xf3;n toma un &#xe1;ngulo en grados y lo convierte al valor en radianes correspondiente. El siguiente ejemplo es el mismo que <a data-type="xref" href="#ex-3-7">Ejemplo 3-7</a>, pero usa la funci&#xf3;n <code>radians()</code> para definir los valores en grados de inicio y final:</p>

<pre class="pagebreak-before" data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  arc(90, 60, 80, 80, 0, radians(90));
  arc(190, 60, 80, 80, 0, radians(270));
  arc(290, 60, 80, 80, radians(180), radians(450));
  arc(390, 60, 80, 80, radians(45), radians(225));
}</pre>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-9: usa angleMode()</h2>

<p>De forma alternativa,<a contenteditable="false" data-primary="angleMode() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="angleMode" data-type="indexterm">&nbsp;</a>puedes convertir tu bosquejo completo para que use grados en vez de radianes usando la funci&#xF3;n <code>angleMode()</code>. Esto hace que todas las funciones que aceptan o retornan &#xE1;ngulos usen grados o radianes seg&#xfa;n en el par&#xE1;metro de la funci&#xF3;n, en vez de que t&#xFA; tengas que convertirlos. El siguiente ejemplo es el mismo que <a data-type="xref" href="#ex-3-8">Ejemplo 3-8</a>, pero usa la funci&#xF3;n <code>angleMode(DEGREES)</code> para definir los valores en grados de inicio y final (DEGREES significa grados):</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
  angleMode(DEGREES);
}

function draw() {
  background(204);
  arc(90, 60, 80, 80, 0, 90);
  arc(190, 60, 80, 80, 0, 270);
  arc(290, 60, 80, 80, 180, 450);
  arc(390, 60, 80, 80, 45, 225);
}</pre>
&nbsp;<a contenteditable="false" data-primary="basic shapes" data-startref="bs3" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-startref="d3sb" data-tertiary="basic" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="shapes" data-secondary="drawing basic" data-startref="s3db" data-type="indexterm">&nbsp;</a></section>
</section>

<section data-type="sect1">
<h1>Orden de dibujo</h1>

<p>Cuando un programa <a contenteditable="false" data-primary="drawing" data-secondary="drawing order" data-type="indexterm" id="d3sdo">&nbsp;</a>se ejecuta, el computador empieza por el principio y lee cada l&#xED;nea de c&#xF3;digo hasta que llega a la &#xFA;ltima l&#xED;nea y luego se detiene.</p>

<div data-type="note">Existen unas pocas excepciones a esto, como cuando cargas archivos externos, las que revisaremos m&#xE1;s adelante. Por ahora, puedes asumir que cada l&#xED;nea se ejecuta en orden cuando dibujas.</div>

<p>Si quieres que una figura sea dibujada encima de todas las otras figuras, necesita estar despu&#xE9;s de las otras en el c&#xF3;digo.</p>

<section data-type="sect2">
<h2>Ejemplo 3-10: controla el orden de dibujo</h2>

<figure><img alt="Ex 03 10" src="images/gspj_03in08.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  ellipse(140, 0, 190, 190);
  // El rectángulo es dibujado sobre la elipse
  // porque está después en el código
  rect(160, 30, 260, 20);
}</pre>
</section>

<section class="pagebreak-before" data-type="sect2">
<h2>Ejemplo 3-11: en reversa</h2>

<p>Modifica el bosquejo invirtiendo el orden de <code>rect()</code> y <code>ellipse()</code> para ver el c&#xED;rculo encima del rect&#xE1;ngulo:</p>

<figure><img alt="Ex 03 11" src="images/gspj_03in09.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  rect(160, 30, 260, 20);
  // La elipse es dibujada sobre el rectángulo
  // porque está después en el código
  ellipse(140, 0, 190, 190);
}</pre>

<p>Puedes pensar esto como pintar con brocha o hacer un collage. El &#xFA;ltimo elemento que a&#xF1;ades es el que est&#xE1; visible encima del resto.</p>
<a contenteditable="false" data-primary="drawing" data-secondary="drawing order" data-startref="d3sdo" data-type="indexterm"></a></section>
</section>

<section data-type="sect1">
<h1>Propiedades de las figuras</h1>

<p>Puedes<a contenteditable="false" data-primary="shapes" data-secondary="properties" data-tertiary="stroke weight" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-tertiary="properties" data-type="indexterm" id="d3ssp">&nbsp;</a>querer tener m&#xE1;s control sobre las figuras que dibujas, m&#xE1;s all&#xE1; de su posici&#xF3;n y su tama&#xF1;o. Para lograr esto, existe un conjunto de funciones que definen las propiedades de las figuras.</p>

<section data-type="sect2" id="ex-3-12">
<h2>Ejemplo 3-12: define el grosor del trazo</h2>

<p>El valor por defecto del grosor del trazo es de un pixel, pero esto puede ser cambiado con la funci&#xF3;n <code>strokeWeight()</code>. El &#xfa;nico par&#xE1;metro<a contenteditable="false" data-primary="strokeWeight() function" data-type="indexterm" id="swf3">&nbsp;</a> de <code>strokeWeight()</code> define el grosor de las l&#xED;neas dibujadas:</p>

<figure><img alt="Ex 03 12" src="images/gspj_03in10.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  ellipse(75, 60, 90, 90);
  strokeWeight(8);  // Grosor del trazo es 8 pixeles
  ellipse(175, 60, 90, 90);
  ellipse(279, 60, 90, 90);
  strokeWeight(20);  // Grosor del trazo es 20 pixeles
  ellipse(389, 60, 90, 90);
}</pre>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-13: define los atributos del trazo</h2>

<p>La funci&#xF3;n <code>strokeJoin()</code><a contenteditable="false" data-primary="shapes" data-secondary="properties" data-tertiary="stroke attributes" data-type="indexterm" id="s3psa"></a><a contenteditable="false" data-primary="strokeJoin() function" data-type="indexterm" id="sjf3"></a> modifica la forma en que las l&#xED;neas se unen (y c&#xF3;mo se ven las esquinas), y la funci&#xF3;n <code>strokeCap()</code><a contenteditable="false" data-primary="strokeCap() function" data-type="indexterm">&nbsp;</a>cambia c&#xF3;mo las l&#xED;neas son dibujadas en su inicio y final:</p>

<figure><img alt="Ex 03 13" src="images/gspj_03in11.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
  strokeWeight(12);
}

function draw() {
  background(204);
  strokeJoin(ROUND);      // Redondea las esquinas del trazo
  rect(40, 25, 70, 70);
  strokeJoin(BEVEL);      // Bisela las esquinas del trazo
  rect(140, 25, 70, 70);
  strokeCap(SQUARE);      // Cuadra los extremos de las l&#xed;neas
  line(270, 25, 340, 95);
  strokeCap(ROUND);       // Redondea los extremos de las l&#xed;neas
  line(350, 25, 420, 95);
}</pre>

<p>La posici&#xF3;n de figuras como <code>rect()</code> y <code>ellipse()</code>&nbsp;es controlada por las funciones <code>rectMode()</code> y <code>ellipseMode()</code><a contenteditable="false" data-primary="rectMode() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="ellipseMode() function" data-type="indexterm">&nbsp;</a>. Revisa la <em>Referencia de p5.js</em> para ver ejemplos de c&#xF3;mo posicionar rect&#xE1;ngulos seg&#xFA;n su centro (en vez de su esquina superior izquierda), o de c&#xF3;mo dibujar elipses desde su esquina superior izquierda como los rect&#xE1;ngulos.</p>

<p>Cuando se define cualquiera de estos atributos, todas las figuras dibujadas posteriormente son afectadas. Por ejemplo, en <a data-type="xref" href="#ex-3-12">Ejemplo 3-12</a>, observa c&#xF3;mo el segundo y tercer c&#xED;rculo tienen el mismo grosor de trazo, a pesar de que el grosor es definido solo una vez antes de que ambos sean dibujados.</p>

<p>Observa que la l&#xED;nea de c&#xF3;digo<a contenteditable="false" data-primary="strokeWeight() function" data-startref="swf3" data-type="indexterm">&nbsp;</a> <code>strokeWeight(12)</code> aparece dentro de <code>setup()</code> en vez de <code>draw()</code>. Esto ocurre porque no cambia durante la duraci&#xF3;n de nuestro programa, as&#xED; que basta con definirlo una &#xfa;nica una vez en <code>setup()</code>. Esto es mayormente por organizaci&#xF3;n; poner la l&#xED;nea en <code>draw()</code> tendr&#xED;a <a contenteditable="false" data-primary="strokeJoin() function" data-startref="sjf3" data-type="indexterm">&nbsp;</a>el mismo<a contenteditable="false" data-primary="shapes" data-secondary="properties" data-startref="s3p" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-startref="d3ssp" data-tertiary="properties" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="shapes" data-secondary="properties" data-startref="s3psa" data-tertiary="stroke attributes" data-type="indexterm">&nbsp;</a>efecto visual.</p>
</section>
</section>

<section data-type="sect1">
<h1>Color</h1>

<p>Todas<a contenteditable="false" data-primary="drawing" data-secondary="color" data-type="indexterm" id="d3color">&nbsp;</a><a contenteditable="false" data-primary="color" data-secondary="grayscale" data-type="indexterm" id="color3gs">&nbsp;</a>las figuras hasta el momento han sido rellenas de color blanco y de borde negro. Para<a contenteditable="false" data-primary="background() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="fill() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="stroke() function" data-type="indexterm">&nbsp;</a>cambiar esto, usa las funciones <code>fill()</code> y <code>stroke()</code>. Los valores de los par&#xE1;metros var&#xED;an entre 0 y 255, donde 255 es blanco, 128 es gris medio y 0 es negro. La <a data-type="xref" href="#Fig_03_03">Figura 3-3</a> muestra c&#xF3;mo los valores entre 0 y 255 corresponden a diferentes niveles de gris. La funci&#xF3;n <code>background()</code> que hemos visto en ejemplos anteriores funciona de la misma manera, excepto que en vez de definir el color de relleno o de trazado para dibujar, define el color del fondo del lienzo.</p>

<figure id="Fig_03_03"><img alt="Fig 03 03" src="images/gspj_0303.png" />
<figcaption><b>Figura 3-3. </b>Valores de gris de 0 a 255</figcaption>
</figure>

<section data-type="sect2">
<h2>Ejemplo 3-14: pinta con grises</h2>

<p>Este &nbsp;ejemplo muestra tres valores de gris distintos sobre un fondo negro:</p>

<figure><img alt="Ex 03 14" src="images/gspj_03in12.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(0);                // Negro
  fill(204);                    // Gris claro
  ellipse(132, 82, 200, 200);   // Círculo gris claro
  fill(153);                    // Gris medio
  ellipse(228, -16, 200, 200);  // Círculo gris medio
  fill(102);                    // Gris oscuro
  ellipse(268, 118, 200, 200);  // Círculo gris oscuro
}</pre>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-15:controla el relleno y el color del trazo</h2>

<p>Puedes <a contenteditable="false" data-primary="color" data-secondary="controlling fill and stroke" data-type="indexterm" id="c3cfs">&nbsp;</a>usar la funci&#xF3;n <code>noStroke()</code> para desactivar el trazo y as&#xED; no dibujar el borde, y puedes desactivar el relleno de una figura con<a contenteditable="false" data-primary="noFill() function" data-type="indexterm">&nbsp;</a> <code>noFill()</code>:</p>

<figure><img alt="Ex 03 15" src="images/gspj_03in13.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  fill(153);                    // Gris medio
  ellipse(132, 82, 200, 200);   // Círculo gris
  noFill();                     // Desactivar relleno
  ellipse(228, -16, 200, 200);  // Borde de círculo
  noStroke();                   // Desactivar trazo
  ellipse(268, 118, 200, 200);  // No hay dibujo
}</pre>

<p>Ten cuidado de no desactivar el relleno y el trazo al mismo tiempo, como lo hicimos en el ejemplo anterior, porque nada ser&#xE1; dibujado en la <a contenteditable="false" data-primary="color" data-secondary="controlling fill and stroke" data-startref="c3cfs" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="color" data-secondary="grayscale" data-startref="color3gs" data-type="indexterm">&nbsp;</a>pantalla.</p>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-16: dibuja con color</h2>

<p>Para ir<a contenteditable="false" data-primary="color" data-secondary="RGB color" data-type="indexterm">&nbsp;</a> m&#xE1;s all&#xE1; de la escala de grises, usa tres par&#xE1;metros para espeficar los componentes de color rojo, verde y azul. Como este libro est&#xE1; impreso en blanco y negro, solamente ver&#xE1;s valores grises. Ejecuta el c&#xF3;digo para revelar los colores:</p>

<figure><img alt="Ex 03 16" src="images/gspj_03in14.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
  noStroke();
}

function draw() {
  background(0, 26, 51);        // Color azul oscuro
  fill(255, 0, 0);              // Color rojo
  ellipse(132, 82, 200, 200);   // Círculo rojo
  fill(0, 255, 0);              // Color verde
  ellipse(228, -16, 200, 200);  // Círculo verde
  fill(0, 0, 255);              // Color azul
  ellipse(268, 118, 200, 200);  // Círculo azul
}</pre>

<p>Los colores en el ejemplo son llamados&nbsp;<em>color RGB</em>, que corresponde a la forma en que los computadores definen el color en la pantalla. Los tres n&#xFA;meros definen los valores de rojo, verde y azul, y var&#xED;an entre 0 y 255 de la misma forma que los valores de gris. Estos tres n&#xFA;meros son los par&#xE1;metros para tus funciones de <code>background()</code>, <code>fill()</code>, y <code>stroke()</code>.</p>
</section>

<section data-type="sect2" id="ex-3-17">
<h2>Ejemplo 3-17: define la transparencia</h2>

<p>Al<a contenteditable="false" data-primary="color" data-secondary="transparency control" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="transparency control" data-type="indexterm">&nbsp;</a>a&#xF1;adir un cuarto par&#xE1;metro a <code>fill()</code> o <code>stroke()</code>, puedes controlar la transparencia. Este cuarto par&#xE1;metro es conocido como el valor <code>alpha</code> <a contenteditable="false" data-primary="alpha value" data-type="indexterm">&nbsp;</a>, y tambi&#xE9;n usa el rango entre 0 y 255 para definir la cantidad de transparencia. El valor 0 define el color como totalmente transparente (no ser&#xE1; mostrado en la pantalla), el valor 255 es enteramente opaco, y los valores entre estos extremos hacen que los colores se mezclen en la pantalla:</p>

<figure><img alt="Ex 03 17" src="images/gspj_03in15.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
  noStroke();
}

function draw() {
  background(204, 226, 225);    // Color azul claro
  fill(255, 0, 0, 160);         // Color rojo
  ellipse(132, 82, 200, 200);   // Círculo rojo
  fill(0, 255, 0, 160);         // Color verde
  ellipse(228, -16, 200, 200);  // Círculo verde
  fill(0, 0, 255, 160);         // Color azul
  ellipse(268, 118, 200, 200);  // Círculo azul
}</pre>
<a contenteditable="false" data-primary="drawing" data-secondary="color" data-startref="d3color" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="color" data-startref="color3" data-type="indexterm">&nbsp;</a></section>
</section>

<section data-type="sect1">
<h1>Figuras personalizadas</h1>

<p>No est&#xE1;s<a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-tertiary="custom" data-type="indexterm" id="d3sc">&nbsp;</a><a contenteditable="false" data-primary="shapes" data-secondary="drawing custom" data-type="indexterm" id="s3dc">&nbsp;</a>limitado a usar estas figuras geom&#xE9;tricas b&#xE1;sicas — tambi&#xE9;n puedes dibujar nuevas formas conectando una serie de puntos.</p>

<section data-type="sect2" id="ex-3-18">
<h2>Ejemplo 3-18: dibuja una flecha</h2>

<p>La funci&#xF3;n<a contenteditable="false" data-primary="arrows, drawing" data-type="indexterm">&nbsp;</a> <code>beginShape()</code> <a contenteditable="false" data-primary="beginShape() function" data-type="indexterm">&nbsp;</a> se&#xF1;ala el comienzo de una nueva figura. La funci&#xF3;n <code>vertex()</code> es<a contenteditable="false" data-primary="vertex() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="arrows" data-type="indexterm">&nbsp;</a>usada para definir cada par de coordenadas <em>x</em> e <em>y</em> de la figura. Finalmente, <code>endShape()</code> <a contenteditable="false" data-primary="endShape() function" data-type="indexterm">&nbsp;</a>se&#xF1;ala que la figura est&#xE1; completa:</p>

<figure><img alt="Ex 03 18" src="images/gspj_03in16.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  beginShape();
  vertex(180, 82);
  vertex(207, 36);
  vertex(214, 63);
  vertex(407, 11);
  vertex(412, 30);
  vertex(219, 82);
  vertex(226, 109);
  endShape();
}</pre>
</section>

<section data-type="sect2">
<h2>Example 3-19: cierra la flecha</h2>

<p>Cuando ejecutas el <a data-type="xref" href="#ex-3-18">Ejemplo 3-18</a>, ver&#xE1;s<a contenteditable="false" data-primary="shapes" data-secondary="closing gap" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="closing gaps" data-type="indexterm">&nbsp;</a>que el primer y el &#xFA;ltimo punto no est&#xE1;n conectados. Para hacer esto, a&#xF1;ade la palabra <code>CLOSE</code> como par&#xE1;metro a la funci&#xF3;n <code>endShape()</code>, &nbsp;as&#xED;:</p>

<figure><img alt="Ex 03 19" src="images/gspj_03in17.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);
  beginShape();
  vertex(180, 82);
  vertex(207, 36);
  vertex(214, 63);
  vertex(407, 11);
  vertex(412, 30);
  vertex(219, 82);
  vertex(226, 109);
  endShape(CLOSE);
}</pre>
</section>

<section data-type="sect2">
<h2>Ejemplo 3-20: crea criaturas</h2>

<p>El poder<a contenteditable="false" data-primary="creatures, drawing" data-type="indexterm">&nbsp;</a>de definir figuras<a contenteditable="false" data-primary="vertex() function" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="creatures" data-type="indexterm" id="d3creat">&nbsp;</a>con <code>vertex()</code> es la posibilidad de construir figuras con bordes complejos. p5.js puede dibujar miles y miles de l&#xED;neas al mismo tiempo para llenar la pantalla con figuras fant&#xE1;sticas que provienen de tu imaginaci&#xF3;n. Un ejemplo modesto pero m&#xE1;s complejo es presentado a continuaci&#xF3;n:</p>

<figure><img alt="Ex 03 20" src="images/gspj_03in18.png" />
<figcaption/>
</figure>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(480, 120);
}

function draw() {
  background(204);

  // Criatura izquierda
  beginShape();
  vertex(50, 120);
  vertex(100, 90);
  vertex(110, 60);
  vertex(80, 20);
  vertex(210, 60);
  vertex(160, 80);
  vertex(200, 90);
  vertex(140, 100);
  vertex(130, 120);
  endShape();
  fill(0);
  ellipse(155, 60, 8, 8);

  // Criatura derecha
  fill(255);
  beginShape();
  vertex(370, 120);
  vertex(360, 90);
  vertex(290, 80);
  vertex(340, 70);
  vertex(280, 50);
  vertex(420, 10);
  vertex(390, 50);
  vertex(410, 90);
  vertex(460, 120);
  endShape();
  fill(0);
  ellipse(345, 50, 10, 10);
}</pre>
<a contenteditable="false" data-primary="drawing" data-secondary="shapes" data-startref="d3sc" data-tertiary="custom" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="shapes" data-secondary="drawing custom" data-startref="s3dc" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="drawing" data-secondary="creatures" data-startref="d3creat" data-type="indexterm"></a></section>
</section>

<section data-type="sect1">
<h1>Comentarios</h1>

<p>Los <a contenteditable="false" data-primary="// (double slashes) for code comments" data-type="indexterm" id="ds4fcc">&nbsp;</a>ejemplos en este cap&#xED;tulo usan doble barra (//) al comienzo de una l&#xED;nea para a&#xF1;adir comentarios al c&#xF3;digo. <a contenteditable="false" data-primary="comments" data-type="indexterm" id="ca3">&nbsp;</a>Los <em>comentarios</em> son secciones de los programas que son ignoradas cuando el programa se ejecuta. Son &#xFA;tiles para hacerte notas a ti mismo que expliquen lo que est&#xE1; pasando en el c&#xF3;digo. Si otras personas est&#xE1;n leyendo tu c&#xF3;digo, los comentarios son especialmente importantes para ayudarles a entender tu proceso mental.</p>

<p>Los comentarios son tambi&#xE9;n especialmente &#xFA;tiles para un n&#xFA;mero de opciones distintas, como tratar de escoger el color correcto. Por ejemplo, podr&#xED;amos estar tratando de encontrar el rojo preciso que queremos para una elipse:</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(200, 200);
}

function draw() {
  background(204);
  fill(165, 57, 57);
  ellipse(100, 100, 80, 80);
}</pre>

<p>Ahora sup&#xF3;n que quieres probar un rojo distinto, pero no quieres perder el antiguo. Puedo copiar y pegar la l&#xED;nea, hacer un cambio y luego comentar la l&#xED;nea antigua de c&#xF3;digo:</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(200, 200);
}

function draw() {
  background(204);
  //fill(165, 57, 57);
  fill(144, 39, 39);
  ellipse(100, 100, 80, 80);
}</pre>

<p>Poner <code>//</code> al principio de una l&#xED;nea la anula temporalmente. Tambi&#xE9;n puedes quitar <code>//</code> y escribirlo al inicio de otra l&#xED;nea si quieres probarla de nuevo:</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(200, 200);
}

function draw() {
  background(204);
  fill(165, 57, 57);
  //fill(144, 39, 39);
  ellipse(100, 100, 80, 80);
}</pre>

<p>A medida que trabajas con bosquejos de p5.js, te encontrar&#xE1;s a ti mismo creando docenas de iteraciones de ideas; usar comentarios para hacer notas o para desactivar l&#xED;neas de c&#xF3;digos puede ayudarte a mantener registro de tus m&#xFA;ltiples<a contenteditable="false" data-primary="comments" data-startref="ca3" data-type="indexterm">&nbsp;</a><a contenteditable="false" data-primary="// (double slashes) for code comments" data-startref="ds4fcc" data-type="indexterm">&nbsp;</a>opciones.</p>
</section>

<section data-type="sect1" id="robot1">
<h1>Robot 1: dibuja</h1>

<figure><img alt="Robot 1" src="images/gspj_03in19.png" />
<figcaption/>
</figure>

<p>Este es<a contenteditable="false" data-primary="robot programs (examples)" data-secondary="draw" data-type="indexterm" id="rp3draw">&nbsp;</a>P5, el robot de p5.js. En este libro existen 10 diferentes programas para dibujarlo y animarlo  - cada uno explora una idea de programaci&#xF3;n diferente. El dise&#xF1;o de P5 est&#xE1; inspirado en Sputnik I (1957), Shakey del Stanford Research Institute (1966–1972), el dron luchador en <em>Dune</em> (1984) de  David Lynch y en HAL 9000 de <em>2001: A Space Odyssey</em> (1968), entre otros robots favoritos.

<p>El primer programa de robot usa las funciones de dibujo introducidas anteriormente en este cap&#xED;tulo. Los par&#xE1;metros de las funciones <code>fill()</code> y <code>stroke()</code> definen los valores de la escala de grises. Las funciones <code>line()</code>, <code>ellipse()</code> y <code>rect()</code> definen las figuras que crean el cuello, las antenas, el cuerpo y la cabeza del robot. Para familiarizarte mejor con las funciones, ejecuta el programa y cambia los valores para redise&#xF1;ar el robot:</p>

<pre data-code-language="p5js" data-type="programlisting">
function setup() {
  createCanvas(720, 480);
  strokeWeight(2);
  ellipseMode(RADIUS);
}

function draw() {
  background(204);

  // Cuello
  stroke(102);                // Hace gris el trazo
  line(266, 257, 266, 162);   // Izquierda
  line(276, 257, 276, 162);   // Centro
  line(286, 257, 286, 162);   // Derecha

  // Antenas
  line(276, 155, 246, 112);   // Peque&#xF1;a
  line(276, 155, 306, 56);    // Larga
  line(276, 155, 342, 170);   // Mediana

  // Cuerpo
  noStroke();                 // Desactiva trazo
  fill(102);                  // Hace gris el relleno
  ellipse(264, 377, 33, 33);  // Globo antigravitacional
  fill(0);                    // Hace negro el relleno
  rect(219, 257, 90, 120);    // Cuerpo principal
  fill(102);                  // Hace gris el relleno
  rect(219, 274, 90, 6);      // Raya gris

  // Cabeza
  fill(0);                    // Hace negro el relleno
  ellipse(276, 155, 45, 45);  // Cabeza
  fill(255);                  // Hace blanco el relleno
  ellipse(288, 150, 14, 14);  // Ojo grande
  fill(0);                    // Hace negro el relleno
  ellipse(288, 150, 3, 3);    // Pupila
  fill(153);                  // Hace gris claro el relleno
  ellipse(263, 148, 5, 5);    // Ojo peque&#xF1;o 1
  ellipse(296, 130, 4, 4);    // Ojo peque&#xF1;o 2
  ellipse(305, 162, 3, 3);    // Ojo peque&#xF1;o 3
}</pre>
<a contenteditable="false" data-primary="drawing" data-startref="d3" data-type="indexterm">&nbsp;</a>&nbsp;<a contenteditable="false" data-primary="robot programs (examples)" data-secondary="draw" data-startref="rp3draw" data-type="indexterm">&nbsp;</a></section>
</section>
